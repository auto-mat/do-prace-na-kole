{% load bootstrap %}
{% load i18n %}
<style>
   #id_company_div:disabled,
   #id_company:disabled,
   #id_subsidiary:disabled,
   #id_team:disabled {
      visibility: hidden;
   }
</style>

<script>
   function activateOnclick(){
      eval($("#id_team_selected").attr("onClick"));
      eval($("#id_subsidiary_selected").attr("onClick"));
      eval($("#id_company_selected").attr("onClick"));
   }

   function switchCompanyForm(){
      if ($('#id_company_selected').is(':checked')) {
         $("#id_team_selected").prop("checked", true);
         $("#id_subsidiary_selected").prop("checked", true);
      }
      activateOnclick();
   }

   function switchSubsidiaryForm(){
      if ($('#id_subsidiary_selected').is(':checked')) {
         $("#id_team_selected").prop("checked", true);
      } else {
         $("#id_company_selected").prop("checked", false);
      } 
      activateOnclick();
   }

   function switchTeamForm(){
      if (! $('#id_team_selected').is(':checked')) {
         $("#id_subsidiary_selected").prop("checked", false);
         $("#id_company_selected").prop("checked", false);
      }
      activateOnclick();
   }

   $("#id_company_selected").on("click", switchCompanyForm);
   $("#id_subsidiary_selected").on("click", switchSubsidiaryForm);
   $("#id_team_selected").on("click", switchTeamForm);

   $('#id_company').selectpicker({
       liveSearch: "true",
   });
</script>

<form method="post" class="form-horizontal">{% csrf_token %}
   {{ form|bootstrap }}
<br/>
<button class="submit submit_once btn btn-block btn-primary" type="submit">{% trans "Odeslat" %}</button>
</form>
