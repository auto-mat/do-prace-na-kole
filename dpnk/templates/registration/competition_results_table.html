{% load i18n %}
{% load humanize %}

{% if competition.show_competition_results %}
<table class="table table-condensed table-striped table-bordered">
<tr>
<th scope="column">{% trans "Po&shy;řa&shy;dí" %}</th>
<th scope="column">
   {% if competition.competition_type == 'length' %}
      {% trans "Ki&shy;lo&shy;me&shy;trů" %}
   {% elif competition.competition_type == 'frequency' %}
      {% trans "% jízd" %}
   {% elif competition.competition_type == 'questionnaire' %}
      {% trans "Bo&shy;dů" %}
   {% endif %}
   {% if competition.competitor_type != 'single_user' and competition.competitor_type != 'liberos' and competition.competition_type != 'questionnaire' %}
      {% trans "prů&shy;měr&shy;ně" %}
   {% endif %}
</th>

{% if competition.competition_type == 'frequency' %}
   <th>{% trans "Po&shy;čet za&shy;po&shy;čí&shy;ta&shy;ných jí&shy;zd" %}</th>
   <th>{% trans "Cel&shy;ko&shy;vý po&shy;čet cest" %}</th>
{% elif competition.competition_type == 'length' and competition.competitor_type == 'team' %}
   <th>{% trans "Po&shy;čet za&shy;po&shy;čí&shy;ta&shy;ných ki&shy;lo&shy;me&shy;trů" %}</th>
{% endif %}

{% if competition.competitor_type != 'single_user' and competition.competitor_type != 'liberos' and competition.competitor_type != 'company'%}
<th scope="column">{% trans "Po&shy;čet sou&shy;tě&shy;ží&shy;cí&shy;ch v " %}
   {% if competition.competitor_type == 'team' %}
      {% trans "tý&shy;mu" %}
   {% elif competition.competitor_type == 'company' %}
      {% trans "fir&shy;mě" %}
   {% endif %}
</th>
{% endif %}

<th scope="column">
   {% trans "Sou&shy;tě&shy;ží&shy;cí" %}
</th>
{% if competition.competitor_type != 'team' and competition.competitor_type != 'company'%}
<th scope="column" class="narrow-hide-400">
   {% trans "Tým" %}
</th>
{% endif %}
{% if competition.competitor_type != 'company'%}
<th scope="column" class="narrow-hide-400">
   {% trans "Spo&shy;leč&shy;nost" %}
</th>
<th scope="column" class="narrow-hide-400">
   {% trans "Měs&shy;to" %}
</th>
{% endif %}


</tr>
{% for result in results %}
   <tr id="row-{{result.id}}">
<td>
{% ifchanged result.result %}
   {{ forloop.counter|ordinal }}
{% endifchanged %}
</td>
{% if competition.competition_type == 'frequency' %}
   <td>{{ result.get_result_percentage |intcomma  }}</td>
{% else %}
   <td>{{ result.get_result|intcomma  }}</td>
{% endif %}

{% if competition.competition_type == 'length' and competition.competitor_type == 'team' %}
   <td>{{ result.result_divident|default:""|intcomma }}</td>
{% endif %}
{% if competition.competition_type == 'frequency' %}
   <td>{{ result.result_divident|default:""|floatformat:"0" }}</td>
{% endif %}
{% if competition.competition_type == 'frequency' %}
   <td>{{ result.result_divisor|default:""|floatformat:"0" }}</td>
{% endif %}

{% if competition.competitor_type != 'single_user' and competition.competitor_type != 'liberos' and competition.competitor_type != 'company'%}
<td>{{ result.team.member_count|intcomma }}</td>
{% endif %}
<td>
   {% if competition.public_answers %}
      <a href="{% url 'questionnaire_answers_all' competition_slug=competition.slug %}#comp_res_{{result.pk}}">
         {{ result }}
      </a>
   {% else %}
      {{ result }}
   {% endif %}
</td>
{% if competition.competitor_type != 'team' and competition.competitor_type != 'company'%}
<td class="narrow-hide-400">
   {{ result.get_team.name }}
</td>
{% endif %}
{% if competition.competitor_type != 'company'%}
<td class="narrow-hide-400">
   {{ result.get_street }} / {{ result.get_company }}
</td>
<td class="narrow-hide-400">
   {{ result.get_city }}
</td>
{% endif %}
</tr>
{% endfor %}
</table>
{% else %}
   <p>
   {% trans "Výsledky této soutěže se nezobrazují" %}
   </p>
{% endif %}
